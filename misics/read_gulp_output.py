import sys,os


'''
	--
		Total number atoms/shells = 123
	--
		Dimensionality = 3               :  Bulk
	--
		Cartesian lattice vectors (Angstroms) :

			  8.872874    0.000000    0.000000
			  0.000000    9.432501    0.000000
			  0.000000    0.000000    8.565761
	--
		Cell parameters (Angstroms/Degrees):

		a =       8.8729    alpha =  90.0000
		b =       9.4325    beta  =  90.0000
		c =       8.5658    gamma =  90.0000
	--
		Initial cell volume =         716.897611 Angs**3
	--
		  Fractional coordinates of asymmetric unit :

--------------------------------------------------------------------------------
   No.  Atomic       x           y          z         Charge      Occupancy
        Label      (Frac)      (Frac)     (Frac)        (e)         (Frac)  
--------------------------------------------------------------------------------
      1 Tc    c    0.129517 *  0.982533 *  0.085172 *   1.97100    1.000000    
      2 Mn    c    0.348068 *  0.260142 *  0.249627 *   4.00000    1.000000    
      3 Mn    c    0.629709 *  0.245363 *  0.085172 *   4.00000    1.000000    
      4 Mn    c    0.845029 *  0.494462 *  0.253180 *   4.00000    1.000000    
      5 Mn    c    0.131170 *  0.513487 *  0.085172 *   4.00000    1.000000    
      6 Mn    c    0.348114 *  0.753882 *  0.255423 *   4.00000    1.000000    
      7 Mn    c    0.627948 *  0.742977 *  0.085172 *   4.00000    1.000000    
      8 Mn    c    0.842786 *  0.988043 *  0.253507 *   4.00000    1.000000    
      9 Mn    c    0.128009 *  0.003628 *  0.419118 *   4.00000    1.000000    
     10 Mn    c    0.344078 *  0.253810 *  0.585172 *   4.00000    1.000000    
     11 Mn    c    0.628232 *  0.240237 *  0.418824 *   4.00000    1.000000    
     12 Mn    c    0.846490 *  0.489547 *  0.585172 *   4.00000    1.000000    
     13 Mn    c    0.128741 *  0.505542 *  0.418856 *   4.00000    1.000000    
     14 Mn    c    0.345553 *  0.754327 *  0.585172 *   4.00000    1.000000    
     15 Mn    c    0.628146 *  0.739922 *  0.419667 *   4.00000    1.000000    
     16 Mn    c    0.844770 *  0.989204 *  0.585172 *   4.00000    1.000000    
     17 Mn    c    0.128009 *  0.003628 *  0.751227 *   4.00000    1.000000    
     18 Mn    c    0.348068 *  0.260142 *  0.920717 *   4.00000    1.000000    
     19 Mn    c    0.628232 *  0.240237 *  0.751521 *   4.00000    1.000000    
     20 Mn    c    0.845029 *  0.494462 *  0.917165 *   4.00000    1.000000    
     21 Mn    c    0.128741 *  0.505542 *  0.751489 *   4.00000    1.000000    
     22 Mn    c    0.348114 *  0.753882 *  0.914922 *   4.00000    1.000000    
     23 Mn    c    0.628146 *  0.739922 *  0.750678 *   4.00000    1.000000    
     24 Mn    c    0.842786 *  0.988043 *  0.916838 *   4.00000    1.000000    
     25 Li    c    0.993240 *  0.228621 *  0.085172 *   1.00000    1.000000    
     26 O     c    0.029150 *  0.090759 *  0.252951 *   0.51300    1.000000    
     27 O     c    0.448944 *  0.357051 *  0.085172 *   0.51300    1.000000    
     28 O     c    0.533685 *  0.149611 *  0.250361 *   0.51300    1.000000    
     29 O     c    0.942269 *  0.406380 *  0.085172 *   0.51300    1.000000    
     30 O     c    0.250188 *  0.170062 *  0.085172 *   0.51300    1.000000    
     31 O     c    0.212182 *  0.407311 *  0.250133 *   0.51300    1.000000    
     32 O     c    0.771936 *  0.103852 *  0.085172 *   0.51300    1.000000    
     33 O     c    0.719844 *  0.340720 *  0.253202 *   0.51300    1.000000    
     34 O     c    0.031531 *  0.600643 *  0.252597 *   0.51300    1.000000    
     35 O     c    0.437327 *  0.848355 *  0.085172 *   0.51300    1.000000    
     36 O     c    0.534116 *  0.646269 *  0.250458 *   0.51300    1.000000    
     37 O     c    0.920668 *  0.888800 *  0.085172 *   0.51300    1.000000    
     38 O     c    0.258333 *  0.661905 *  0.085172 *   0.51300    1.000000    
     39 O     c    0.215043 *  0.895035 *  0.269717 *   0.51300    1.000000    
     40 O     c    0.761147 *  0.592537 *  0.085172 *   0.51300    1.000000    
     41 O     c    0.705902 *  0.844041 *  0.253660 *   0.51300    1.000000    
     42 O     c    0.031990 *  0.096923 *  0.585172 *   0.51300    1.000000    
     43 O     c    0.441488 *  0.348696 *  0.420037 *   0.51300    1.000000    
     44 O     c    0.532158 *  0.147879 *  0.585172 *   0.51300    1.000000    
     45 O     c    0.941886 *  0.398069 *  0.417196 *   0.51300    1.000000    
     46 O     c    0.257650 *  0.156894 *  0.415791 *   0.51300    1.000000    
     47 O     c    0.211977 *  0.402919 *  0.585172 *   0.51300    1.000000    
     48 O     c    0.757173 *  0.089829 *  0.419370 *   0.51300    1.000000    
     49 O     c    0.715692 *  0.340246 *  0.585172 *   0.51300    1.000000    
     50 O     c    0.032133 *  0.598551 *  0.585172 *   0.51300    1.000000    
     51 O     c    0.444046 *  0.847310 *  0.420991 *   0.51300    1.000000    
     52 O     c    0.533828 *  0.643967 *  0.585172 *   0.51300    1.000000    
     53 O     c    0.939229 *  0.894789 *  0.419492 *   0.51300    1.000000    
     54 O     c    0.265615 *  0.648610 *  0.419979 *   0.51300    1.000000    
     55 O     c    0.216151 *  0.905015 *  0.585172 *   0.51300    1.000000    
     56 O     c    0.759986 *  0.591371 *  0.419444 *   0.51300    1.000000    
     57 O     c    0.714824 *  0.839497 *  0.585172 *   0.51300    1.000000    
     58 O     c    0.029150 *  0.090759 *  0.917394 *   0.51300    1.000000    
     59 O     c    0.441488 *  0.348696 *  0.750308 *   0.51300    1.000000    
     60 O     c    0.533685 *  0.149611 *  0.919984 *   0.51300    1.000000    
     61 O     c    0.941886 *  0.398069 *  0.753149 *   0.51300    1.000000    
     62 O     c    0.257650 *  0.156894 *  0.754554 *   0.51300    1.000000    
     63 O     c    0.212182 *  0.407311 *  0.920212 *   0.51300    1.000000    
     64 O     c    0.757173 *  0.089829 *  0.750975 *   0.51300    1.000000    
     65 O     c    0.719844 *  0.340720 *  0.917142 *   0.51300    1.000000    
     66 O     c    0.031531 *  0.600643 *  0.917747 *   0.51300    1.000000    
     67 O     c    0.444046 *  0.847310 *  0.749354 *   0.51300    1.000000    
     68 O     c    0.534116 *  0.646269 *  0.919886 *   0.51300    1.000000    
     69 O     c    0.939229 *  0.894789 *  0.750853 *   0.51300    1.000000    
     70 O     c    0.265615 *  0.648610 *  0.750366 *   0.51300    1.000000    
     71 O     c    0.215043 *  0.895035 *  0.900627 *   0.51300    1.000000    
     72 O     c    0.759986 *  0.591371 *  0.750901 *   0.51300    1.000000    
     73 O     c    0.705902    0.844041    0.916685     0.51300    1.000000    
     74 Tc    s    0.132765 *  0.981625 *  0.085172 *   1.02900    1.000000    
     75 O     s    0.029128 *  0.066731 *  0.255642 *  -2.51300    1.000000    
     76 O     s    0.445454 *  0.325600 *  0.085172 *  -2.51300    1.000000    
     77 O     s    0.539356 *  0.181150 *  0.250983 *  -2.51300    1.000000    
     78 O     s    0.938630 *  0.425448 *  0.085172 *  -2.51300    1.000000    
     79 O     s    0.264794 *  0.180534 *  0.085172 *  -2.51300    1.000000    
     80 O     s    0.211237 *  0.410807 *  0.250661 *  -2.51300    1.000000    
     81 O     s    0.768272 *  0.101940 *  0.085172 *  -2.51300    1.000000    
     82 O     s    0.717565 *  0.340657 *  0.251950 *  -2.51300    1.000000    
     83 O     s    0.036470 *  0.569409 *  0.250900 *  -2.51300    1.000000    
     84 O     s    0.432530 *  0.818069 *  0.085172 *  -2.51300    1.000000    
     85 O     s    0.538285 *  0.678135 *  0.250334 *  -2.51300    1.000000    
     86 O     s    0.913065 *  0.918915 *  0.085172 *  -2.51300    1.000000    
     87 O     s    0.258566 *  0.659576 *  0.085172 *  -2.51300    1.000000    
     88 O     s    0.216557 *  0.895511 *  0.271882 *  -2.51300    1.000000    
     89 O     s    0.763747 *  0.589096 *  0.085172 *  -2.51300    1.000000    
     90 O     s    0.706857 *  0.840198 *  0.253579 *  -2.51300    1.000000    
     91 O     s    0.037521 *  0.065200 *  0.585172 *  -2.51300    1.000000    
     92 O     s    0.436136 *  0.317550 *  0.418253 *  -2.51300    1.000000    
     93 O     s    0.537634 *  0.179548 *  0.585172 *  -2.51300    1.000000    
     94 O     s    0.936862 *  0.429657 *  0.417538 *  -2.51300    1.000000    
     95 O     s    0.259811 *  0.158434 *  0.417902 *  -2.51300    1.000000    
     96 O     s    0.211279 *  0.405662 *  0.585172 *  -2.51300    1.000000    
     97 O     s    0.758458 *  0.088485 *  0.419190 *  -2.51300    1.000000    
     98 O     s    0.714447 *  0.338901 *  0.585172 *  -2.51300    1.000000    
     99 O     s    0.037522 *  0.566726 *  0.585172 *  -2.51300    1.000000    
    100 O     s    0.439758 *  0.814238 *  0.420939 *  -2.51300    1.000000    
    101 O     s    0.540258 *  0.675546 *  0.585172 *  -2.51300    1.000000    
    102 O     s    0.932563 *  0.926056 *  0.419590 *  -2.51300    1.000000    
    103 O     s    0.264049 *  0.651854 *  0.419984 *  -2.51300    1.000000    
    104 O     s    0.213915 *  0.906459 *  0.585172 *  -2.51300    1.000000    
    105 O     s    0.761753 *  0.588964 *  0.417666 *  -2.51300    1.000000    
    106 O     s    0.712807 *  0.837495 *  0.585172 *  -2.51300    1.000000    
    107 O     s    0.029128 *  0.066731 *  0.914703 *  -2.51300    1.000000    
    108 O     s    0.436136 *  0.317550 *  0.752092 *  -2.51300    1.000000    
    109 O     s    0.539356 *  0.181150 *  0.919362 *  -2.51300    1.000000    
    110 O     s    0.936862 *  0.429657 *  0.752807 *  -2.51300    1.000000    
    111 O     s    0.259811 *  0.158434 *  0.752442 *  -2.51300    1.000000    
    112 O     s    0.211237 *  0.410807 *  0.919684 *  -2.51300    1.000000    
    113 O     s    0.758458 *  0.088485 *  0.751154 *  -2.51300    1.000000    
    114 O     s    0.717565 *  0.340657 *  0.918395 *  -2.51300    1.000000    
    115 O     s    0.036470 *  0.569409 *  0.919445 *  -2.51300    1.000000    
    116 O     s    0.439758 *  0.814238 *  0.749406 *  -2.51300    1.000000    
    117 O     s    0.538285 *  0.678135 *  0.920011 *  -2.51300    1.000000    
    118 O     s    0.932563 *  0.926056 *  0.750755 *  -2.51300    1.000000    
    119 O     s    0.264049 *  0.651854 *  0.750361 *  -2.51300    1.000000    
    120 O     s    0.216557 *  0.895511 *  0.898462 *  -2.51300    1.000000    
    121 O     s    0.761753 *  0.588964 *  0.752679 *  -2.51300    1.000000    
    122 O     s    0.706857 *  0.840198 *  0.916766 *  -2.51300    1.000000    
--------------------------------------------------------------------------------
	--
		Final energy =   -3023.58625885 eV
		Final Gnorm  =       0.00000010
	--
  Final fractional coordinates of atoms :

--------------------------------------------------------------------------------
   No.  Atomic        x           y          z          Radius
        Label       (Frac)      (Frac)     (Frac)       (Angs) 
--------------------------------------------------------------------------------
     1  Tc    c     0.128120    0.981505    0.085149    0.000000
     2  Mn    c     0.347621    0.260132    0.249508    0.000000
     3  Mn    c     0.629808    0.245929    0.085149    0.000000
     4  Mn    c     0.844358    0.494229    0.253030    0.000000
     5  Mn    c     0.131219    0.513032    0.085149    0.000000
     6  Mn    c     0.347012    0.753268    0.255413    0.000000
     7  Mn    c     0.627732    0.743484    0.085149    0.000000
     8  Mn    c     0.841694    0.988406    0.253616    0.000000
     9  Mn    c     0.127924    0.003122    0.419137    0.000000
    10  Mn    c     0.343067    0.252937    0.585149    0.000000
    11  Mn    c     0.628208    0.240621    0.418888    0.000000
    12  Mn    c     0.845640    0.489682    0.585149    0.000000
    13  Mn    c     0.128622    0.505282    0.418888    0.000000
    14  Mn    c     0.344659    0.753599    0.585149    0.000000
    15  Mn    c     0.627991    0.740180    0.419564    0.000000
    16  Mn    c     0.843751    0.989028    0.585149    0.000000
    17  Mn    c     0.127924    0.003122    0.751161    0.000000
    18  Mn    c     0.347621    0.260132    0.920790    0.000000
    19  Mn    c     0.628208    0.240621    0.751410    0.000000
    20  Mn    c     0.844358    0.494229    0.917268    0.000000
    21  Mn    c     0.128622    0.505282    0.751409    0.000000
    22  Mn    c     0.347012    0.753268    0.914884    0.000000
    23  Mn    c     0.627991    0.740180    0.750733    0.000000
    24  Mn    c     0.841694    0.988406    0.916682    0.000000
    25  Li    c     0.993546    0.228920    0.085149    0.000000
    26  O     c     0.028876    0.088749    0.252773    0.000000
    27  O     c     0.448398    0.355682    0.085149    0.000000
    28  O     c     0.534169    0.151562    0.250339    0.000000
    29  O     c     0.941852    0.406869    0.085149    0.000000
    30  O     c     0.249723    0.170798    0.085149    0.000000
    31  O     c     0.212272    0.407325    0.250299    0.000000
    32  O     c     0.771234    0.104093    0.085149    0.000000
    33  O     c     0.719726    0.340997    0.253281    0.000000
    34  O     c     0.031230    0.598632    0.252491    0.000000
    35  O     c     0.435498    0.846379    0.085149    0.000000
    36  O     c     0.534376    0.648132    0.250286    0.000000
    37  O     c     0.919052    0.890345    0.085149    0.000000
    38  O     c     0.257810    0.660712    0.085149    0.000000
    39  O     c     0.214541    0.894372    0.269834    0.000000
    40  O     c     0.760519    0.592427    0.085149    0.000000
    41  O     c     0.705902    0.844041    0.253613    0.000000
    42  O     c     0.031637    0.094777    0.585149    0.000000
    43  O     c     0.440161    0.346759    0.420373    0.000000
    44  O     c     0.532675    0.149575    0.585149    0.000000
    45  O     c     0.941278    0.399627    0.417294    0.000000
    46  O     c     0.257130    0.156216    0.415709    0.000000
    47  O     c     0.212014    0.402803    0.585149    0.000000
    48  O     c     0.756361    0.090022    0.419404    0.000000
    49  O     c     0.715591    0.340492    0.585149    0.000000
    50  O     c     0.031806    0.596812    0.585149    0.000000
    51  O     c     0.442674    0.845070    0.420976    0.000000
    52  O     c     0.534406    0.645607    0.585149    0.000000
    53  O     c     0.938182    0.896325    0.419360    0.000000
    54  O     c     0.264382    0.648513    0.419971    0.000000
    55  O     c     0.215950    0.904524    0.585149    0.000000
    56  O     c     0.759197    0.591296    0.419211    0.000000
    57  O     c     0.714199    0.839789    0.585149    0.000000
    58  O     c     0.028876    0.088749    0.917525    0.000000
    59  O     c     0.440161    0.346759    0.749924    0.000000
    60  O     c     0.534169    0.151562    0.919958    0.000000
    61  O     c     0.941278    0.399627    0.753004    0.000000
    62  O     c     0.257130    0.156216    0.754589    0.000000
    63  O     c     0.212272    0.407325    0.919998    0.000000
    64  O     c     0.756361    0.090022    0.750894    0.000000
    65  O     c     0.719726    0.340997    0.917016    0.000000
    66  O     c     0.031230    0.598632    0.917806    0.000000
    67  O     c     0.442674    0.845070    0.749322    0.000000
    68  O     c     0.534376    0.648132    0.920012    0.000000
    69  O     c     0.938182    0.896325    0.750938    0.000000
    70  O     c     0.264382    0.648513    0.750327    0.000000
    71  O     c     0.214541    0.894372    0.900464    0.000000
    72  O     c     0.759197    0.591296    0.751086    0.000000
    73  O     c     0.705902    0.844041    0.916685    0.000000
    74  Tc    s     0.131531    0.980638    0.085149    0.000000
    75  O     s     0.029218    0.065126    0.255615    0.000000
    76  O     s     0.444975    0.324815    0.085149    0.000000
    77  O     s     0.539872    0.182498    0.251033    0.000000
    78  O     s     0.937729    0.425785    0.085149    0.000000
    79  O     s     0.264729    0.181925    0.085149    0.000000
    80  O     s     0.211063    0.410818    0.250825    0.000000
    81  O     s     0.767719    0.102203    0.085149    0.000000
    82  O     s     0.717271    0.340695    0.251960    0.000000
    83  O     s     0.036550    0.568040    0.250815    0.000000
    84  O     s     0.430596    0.816712    0.085149    0.000000
    85  O     s     0.538630    0.679375    0.250158    0.000000
    86  O     s     0.911543    0.920108    0.085149    0.000000
    87  O     s     0.257997    0.658668    0.085149    0.000000
    88  O     s     0.215847    0.894875    0.271961    0.000000
    89  O     s     0.763576    0.588664    0.085149    0.000000
    90  O     s     0.706271    0.840138    0.253491    0.000000
    91  O     s     0.037610    0.063698    0.585149    0.000000
    92  O     s     0.434733    0.316231    0.418363    0.000000
    93  O     s     0.538276    0.180621    0.585149    0.000000
    94  O     s     0.935878    0.430562    0.417586    0.000000
    95  O     s     0.259443    0.157989    0.418133    0.000000
    96  O     s     0.210811    0.405665    0.585149    0.000000
    97  O     s     0.757901    0.088508    0.419055    0.000000
    98  O     s     0.713996    0.338910    0.585149    0.000000
    99  O     s     0.037573    0.565608    0.585149    0.000000
   100  O     s     0.438324    0.812641    0.420943    0.000000
   101  O     s     0.540879    0.676570    0.585149    0.000000
   102  O     s     0.931056    0.926979    0.419562    0.000000
   103  O     s     0.263327    0.651742    0.419979    0.000000
   104  O     s     0.213416    0.906162    0.585149    0.000000
   105  O     s     0.761257    0.588789    0.417540    0.000000
   106  O     s     0.712081    0.837574    0.585149    0.000000
   107  O     s     0.029218    0.065126    0.914682    0.000000
   108  O     s     0.434733    0.316231    0.751935    0.000000
   109  O     s     0.539872    0.182498    0.919265    0.000000
   110  O     s     0.935878    0.430562    0.752711    0.000000
   111  O     s     0.259443    0.157989    0.752164    0.000000
   112  O     s     0.211063    0.410818    0.919473    0.000000
   113  O     s     0.757901    0.088508    0.751242    0.000000
   114  O     s     0.717271    0.340695    0.918337    0.000000
   115  O     s     0.036550    0.568040    0.919482    0.000000
   116  O     s     0.438324    0.812641    0.749354    0.000000
   117  O     s     0.538630    0.679375    0.920140    0.000000
   118  O     s     0.931056    0.926979    0.750735    0.000000
   119  O     s     0.263327    0.651742    0.750318    0.000000
   120  O     s     0.215847    0.894875    0.898336    0.000000
   121  O     s     0.761257    0.588789    0.752757    0.000000
   122  O     s     0.706271    0.840138    0.916807    0.000000
--------------------------------------------------------------------------------
	--
		Final Cartesian lattice vectors (Angstroms) :

		      8.887711    0.011848    0.000000
		      0.012595    9.537254    0.000000
		      0.000000    0.000000    8.573353
	--
		Bulk  Modulus (GPa)     =     232.75867     297.22742     264.99304
		Shear Modulus (GPa)     =     112.02027     133.45358     122.73692
	--
		Compressibility (1/GPa) =    0.00429630
	--
		Youngs Moduli (GPa)     =     282.47440     196.94575     655.15455
	--
	Static dielectric constant tensor : 

-------------------------------------------------------------------------------
              x         y         z
-------------------------------------------------------------------------------
       x     8.24636   0.21043  -0.00000
       y     0.21043   6.06332   0.00000
       z    -0.00000   0.00000   6.76475
--------------------------------------------------------------------------------
	--
  High frequency dielectric constant tensor : 

-------------------------------------------------------------------------------
              x         y         z
-------------------------------------------------------------------------------
       x     4.69255   0.01891  -0.00000
       y     0.01891   3.86867   0.00000
       z    -0.00000   0.00000   4.20145
-------------------------------------------------------------------------------
	--
  Static refractive indices : 

-------------------------------------------------------------------------------
    1 =    2.45830      2 =    2.60091      3 =    2.87515
-------------------------------------------------------------------------------

  High frequency refractive indices : 

-------------------------------------------------------------------------------
    1 =    1.96678      2 =    2.04974      3 =    2.16633
-------------------------------------------------------------------------------
	--
	  Zero point energy             =        5.633412 eV
	--
  Total CPU time                                                  2.1038
	--
'''
	
class OutputPatternsGULP():

	def __init__(self):

		self.pattern_TotalAtomsShells_11 = "Total number atoms/shells"

class OutputAnalysisGULP():

	def __init__(self):

		self.root_dir = os.getcwd()				# root path

		self.output_path = False;				# outputfile path
		self.dim = False;						# dimension

	# need renew default variables ...

	def set_output_path(self,output_path):

		if os.path.exists(output_path):
			self.output_path = True
			self.output_path = output_path
		else:
			self.output_paht = False

	''' 
		GULP EXTRACT MAIN
	'''
	def extract(self):

		if self.output_path:

			try:
				with open(self.output_path,"r") as f:

					patterns = OutputPatternsGULP()		# load patterns in standard gulp output file

					for line in f:
						if patterns.pattern_total_as in line:
							print(line.strip().split()[-1])
							break

			except FileNotFoundError as e:
				print(f"File not found: {e}")


if __name__ == "__main__":

	gout = OutputAnalysisGULP()
	gout.set_output_path("/home/uccawkj/2023SolidSolution/ConpResult/A0.gout")
	gout.extract()
